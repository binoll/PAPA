# PAPA

## Структура проекта:

### Каталог detectors:
Содержит функции определения плагиата.

### Каталог test_array:
Содержит документы, используемые для тестирования программного средства.

### Каталог tokenizers:
Содержит токенизаторы под различные (в будущем) языки программирования.

Вход - документ, содержащий исходный текст программы + json-файл, содержащий информацию о лексических конструкциях языка.

Выход - строка токенов.

### Каталог tokens:
Содержит информацию о лексических конструкциях языков в формате json.

Всего 7 классов:
- K_WORDS - ключевые (зарезервированные) слова;
- OPERATORS_ARIFM - арифметические операции;
- OPERATORS_SRVN - операторы сравнения;
- OPERATORS_LOG - логические опреации;
- OPERATORS_BIT - побитовые операции;
- TYPES - типы данных;
- CYCLES - операторы циклов.

### docker-compose.yml
Запуск сервера elasticsearch

### main.py
Взаимодействие с ES, ядро программы

## Проверка работы через Docker

Запустить сервер ES командой:
```
sudo docker-compose up -d
```

Перейти по адресу: http://localhost:5601 для проверки работы Kibana

Сборка контейнера с программным средством:
```
sudo docker build -t papa:console .
```

Запуск:
```
sudo docker run --network=papa_elasticsearch-network -v ./:/PAPA papa [функция] [[аргументы]]
```

Функции:
- --help (без аргументов) - выводит справку по доступным функциям (так же доступна для всех функций)
- create (без аргументов) - создаёт индекс papa в ES;
- add -f [путь до документа] - добавляет в ES указанный документ без проверки на плагиат;
- add_dir -p [путь до директории] - добавляет в ES документы из указанной директории без проверки на плагиат;
- PAPA -f [путь до документа] -s [область проверки] - проверяет указанный документ с заданной областью базы.
- PAPA_dir -p [путь до директории] -s [область проверки] - проверяет документы из указанной директории с заданной областью базы.

Пример проверки документа со всей базой (all можем заменить на test или test_KR или test_KR_zadA):
```
sudo docker run --network=papa_elasticsearch-network -v ./:/PAPA papa PAPA -f ./test_array/knv_test_KR_zadA.cpp -s all
```
